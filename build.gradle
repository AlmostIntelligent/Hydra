configure(allprojects) {
	apply plugin: 'java'
	apply plugin: 'eclipse'
	
	group = 'org.gethydrated'
	
	sourceCompatibility=1.7
	targetCompatibility=1.7
	
	repositories {
		mavenCentral()
	}
	
	dependencies {
		testCompile "junit:junit:4.10"
	}
}

configure(subprojects) { subproject ->
	task sourcesJar(type: Jar, dependsOn:classes) {
		classifier = 'sources'
		from sourceSets.main.allJava
	}

	task javadocJar(type: Jar) {
		classifier = 'javadoc'
		from javadoc
	}

	artifacts {
		archives sourcesJar
		archives javadocJar
	}
}

configure("hydra-api") {
	description = 'Hydra API'
}

configure("hydra-core") {
	description = 'Hydra Core'
	
	dependencies {
		compile project(':hydra-api')
	}
}

configure("hydra-cli") {
	description = 'Hydra CLI'
	
	dependencies {
		compile project(':hydra-api')
	}
}

configure(rootProject) {
	description='Hydra'
	
	// don't publish the default jar for the root project
	configurations.archives.artifacts.clear()
	
	task wrapper(type: Wrapper) {
		description = 'Generates gradlew[.bat] scripts'
		gradleVersion = '1.0-rc-1'
	}
}